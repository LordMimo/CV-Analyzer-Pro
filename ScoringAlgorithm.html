<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CV Scoring System</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f9f9f9; }
    textarea { width: 100%; height: 200px; margin-top: 10px; }
    button { margin-top: 10px; padding: 10px 20px; cursor: pointer; }
    .result { margin-top: 20px; background: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 0 5px #ccc; }
    .score { font-size: 20px; font-weight: bold; }
  </style>
</head>
<body>

  <h2>CV Scoring System</h2>
  <p>Paste your CV text below:</p>
  <textarea id="cvText"></textarea><br>
  <button onclick="analyzeCV()">Analyze CV</button>

  <div id="result" class="result" style="display:none;">
    <p class="score"></p>
    <p class="recommendations"></p>
  </div>

  <script>
    function analyzeCV() {
        const text = document.getElementById("cvText").value;
        const lowerText = text.toLowerCase();

        if (!lowerText.trim()) {
            alert("Please paste your CV text first!");
            return;
        }

        let score = 0;
        let recommendations = [];
        const wordCount = lowerText.split(/\s+/).filter(word => word.length > 0).length;

        // --- 1. Scoring Components ---

        // 1.1 SECTION STRUCTURE & LENGTH (Max 15 points)
        let structurePoints = 0;
        const requiredSections = ["education", "experience", "skills", "contact"];
        requiredSections.forEach(section => {
            if (lowerText.includes(section)) {
                structurePoints += 3;
            }
        });
        
        // Bonus for length
        if (wordCount >= 250 && wordCount <= 700) {
            structurePoints += 3; // Ideal length bonus
        } else if (wordCount > 700) {
            recommendations.push("‚ùå **Conciseness:** Your CV might be too long. Aim for 1-2 pages of highly relevant content.");
        } else {
            recommendations.push("‚ö†Ô∏è **Detail:** Your CV seems too short. Add more detailed, results-oriented bullet points.");
        }
        score += Math.min(15, structurePoints);

        // 1.2 QUANTIFIABILITY (Max 30 points)
        // Check for numbers and percentages, which suggest metrics/results.
        const quantifiablePattern = /(\d+[\+\-]?%?|increased|reduced|saved|managed|improved|built)\s+\d+/gi;
        const metricsFound = (text.match(quantifiablePattern) || []).length;
        let quantifiabilityPoints = Math.min(30, metricsFound * 5); // 6 metrics for max points
        score += quantifiabilityPoints;

        if (metricsFound < 4) {
            recommendations.push(`‚ö†Ô∏è **Quantify Results:** Found only ${metricsFound} metrics. Replace "responsible for" tasks with numerical achievements (e.g., increased efficiency by 15%).`);
        }

        // 1.3 IMPACTFUL LANGUAGE (Action Verbs) (Max 25 points)
        // Looks for strong action verbs, common at the start of achievement bullets.
        const strongActionVerbs = ["architected", "developed", "spearheaded", "optimized", "implemented", "managed", "designed", "resolved", "launched", "automated", "created"];
        let verbCount = 0;
        strongActionVerbs.forEach(verb => {
            // Check for the verb followed by a capital letter (suggesting a new sentence/bullet)
            const verbPattern = new RegExp('\\.\\s*' + verb + '|\\*\\s*' + verb, 'gi');
            verbCount += (lowerText.match(verbPattern) || []).length;
        });
        
        let verbPoints = Math.min(25, verbCount * 4); // 6-7 verbs for max points
        score += verbPoints;

        if (verbCount < 5) {
             recommendations.push(`‚ùå **Action Verbs:** Use strong action verbs to start your bullet points. Found only ${verbCount} impactful verbs.`);
        }

        // 1.4 KEYWORD DENSITY & SPECIFICITY (Max 30 points)
        // Focuses on common technical and soft skills.
        const highValueKeywords = {
            // Technical/Hard Skills
            'technical': ["python", "java", "sql", "aws", "azure", "docker", "agile", "crm", "seo", "analytics", "marketing"],
            // Soft/Role-specific Skills (often poorly articulated)
            'soft': ["leadership", "communication", "problem-solving", "stakeholder", "collaboration", "budget"]
        };

        let keywordPoints = 0;
        let missingKeywords = [];
        
        highValueKeywords.technical.forEach(word => {
            if (lowerText.includes(word)) {
                keywordPoints += 2;
            }
        });
        highValueKeywords.soft.forEach(word => {
            if (lowerText.includes(word)) {
                keywordPoints += 1;
            } else {
                missingKeywords.push(word);
            }
        });

        score += Math.min(30, keywordPoints);
        
        if (keywordPoints < 15) {
            recommendations.push("‚ö†Ô∏è **Keyword Match:** Include more relevant industry-specific and technical skills for your target role.");
        }
        if (missingKeywords.length > 5) {
            recommendations.push(`üí° **Soft Skills:** Try integrating terms like ${missingKeywords.slice(0, 3).join(', ')} into your experience descriptions.`);
        }


        // --- 2. Final Output ---

        // Final score calculation (max 100)
        score = Math.min(100, Math.round(score));
        
        // Determine score range for icon and emphasis
        let scoreEmoji, scoreColor;
        if (score >= 75) {
            scoreEmoji = "üåü";
            scoreColor = "green";
        } else if (score >= 50) {
            scoreEmoji = "üü°";
            scoreColor = "orange";
        } else {
            scoreEmoji = "üö®";
            scoreColor = "red";
        }

        // Display results
        document.getElementById("result").style.display = "block";
        document.querySelector(".score").innerHTML = 
            `<span style="color:${scoreColor};">${scoreEmoji} CV Score: <strong>${score}/100</strong></span>`;
        
        if (recommendations.length === 0) {
            document.querySelector(".recommendations").innerHTML = "‚úÖ **Excellent Job!** Your CV is highly detailed, well-structured, and rich with impactful results.";
        } else {
            document.querySelector(".recommendations").innerHTML =
                "üìã **Recommendations to Improve Your Score:**<br> - " + recommendations.join("<br> - ");
        }
    }
</script>

</body>
</html>
